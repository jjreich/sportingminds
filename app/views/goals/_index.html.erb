<div class="grid-x grid-padding-x">
	<div class="cell large-8 large-offset-2 medium-10 medium-offset-1 small-12">
		<h2><div id="goalsModal">Goals</div></h2>
			<div class="cell">	
				
				<h4>Personal Goals</h4>

				<span data-tooltip aria-haspopup="true" class="has-tip [tip-top tip-bottom tip-left tip-right] [radius round]" title="Tooltips are awesome, you should totally use them!">?</span>


				<% if @personalGoals.present? %>

					<% if @personalGoals.where(:goalType => "1").present? %>

						<u><b><div id="objectiveGoalsModal">Objective Goals</div></b></u>

						<% outcomeGoals = @personalGoals.where(:goalType => "1") %>
						<% outcomeGoals.each do |goal| %>
							<%= render 'goalsView', goal: goal %>
						<% end %>

					<% end %>

					<% if @personalGoals.where(:goalType => "2").present? %>

						<u><b><div id="performanceGoalsModal">Performance Goals</div></b></u>

						<% performanceGoals = @personalGoals.where(:goalType => "2") %>
						<% performanceGoals.each do |goal| %>
							<%= render 'goalsView', goal: goal %>
						<% end %>

					<% end %>

					<% if @personalGoals.where(:goalType => "3").present? %>

						<u><b><div id="processGoalsModal">Process Goals</div></b></u>

						<% processGoals = @personalGoals.where(:goalType => "3") %>
						<% processGoals.each do |goal| %>
							<%= render 'goalsView', goal: goal %>
						<% end %>
					<% end %>
				<% else %>
					<b>None</b>
					</br></br>
				<% end %>

				<%= link_to 'New Personal Goal', new_goal_path, :class => "", remote: true, data: {:"reveal-id" => "myModal"}  %>

				<hr>

				<% if @teamGoals.present? %>

					<h4>Team Goals</h4>

					<% if @teamGoals.where(:goalType => "1").present? %>

						<u><b>Outcome Goals</b></u>

						<% outcomeGoals = @teamGoals.where(:goalType => "1") %>
						<% outcomeGoals.each do |goal| %>
							<%= render 'goalsView', goal: goal %>
						<% end %>

					<% end %>

					<% if @teamGoals.where(:goalType => "2").present? %>

						<u><b>Performance Goals</b></u>

						<% performanceGoals = @teamGoals.where(:goalType => "2") %>
						<% performanceGoals.each do |goal| %>
							<%= render 'goalsView', goal: goal %>
						<% end %>

					<% end %>

					<% if @teamGoals.where(:goalType => "3").present? %>

						<u><b>Process Goals</b></u>

						<% processGoals = @teamGoals.where(:goalType => "3") %>
						<% processGoals.each do |goal| %>
							<%= render 'goalsView', goal: goal %>
						<% end %>
					<% end %>
				<% end %>
			</div>

	</div>
</div>

<script>
	$( "#goalsModal" ).click(function() {
		$('#helpModal').html("<%= j (render 'goals_modal') %>");
  		$('#helpModal').foundation('open');
	});
	$( "#objectiveGoalsModal" ).click(function() {
		$('#helpModal').html("<%= j (render 'objective_goals_modal') %>");
  		$('#helpModal').foundation('open');
	});
	$( "#performanceGoalsModal" ).click(function() {
		$('#helpModal').html("<%= j (render 'performance_goals_modal') %>");
  		$('#helpModal').foundation('open');
	});
	$( "#processGoalsModal" ).click(function() {
		$('#helpModal').html("<%= j (render 'process_goals_modal') %>");
  		$('#helpModal').foundation('open');
	});
</script>

<br>



